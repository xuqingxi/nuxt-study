(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{198:function(t,e,r){"use strict";r.d(e,"a",(function(){return f})),r.d(e,"b",(function(){return d}));var n=r(4),c=(r(36),r(68)),o=r(22);r(37);function l(t){if("object"==Object(o.a)(t)){var e="";for(var r in t)t[r]&&0!=t[r]&&(e+=r+"="+t[r]+"&");return e.slice(0,-1)}}function f(t){return v.apply(this,arguments)}function v(){return(v=Object(n.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=l(e),t.abrupt("return",c.a.get("/articles/feed?".concat(e)).then((function(data){return[null,data]})).catch((function(t){return[t]})));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function d(t){return m.apply(this,arguments)}function m(){return(m=Object(n.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=l(e),t.abrupt("return",c.a.get("/articles?".concat(e)).then((function(data){return[null,data]})).catch((function(t){return[t]})));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},199:function(t,e,r){var content=r(201);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(90).default)("60c72534",content,!0,{sourceMap:!1})},200:function(t,e,r){"use strict";r(199)},201:function(t,e,r){var n=r(89)(!1);n.push([t.i,".page-split[data-v-313a1cb4]{display:flex;width:100%;flex-wrap:wrap;align-items:center;box-sizing:border-box}.page-btn[data-v-313a1cb4]{height:20px;line-height:19px;padding:0 5px;border:1px solid;text-align:center}.active-btn[data-v-313a1cb4]{background:#5cb85c;border:1px solid #5cb85c;color:#fff}",""]),t.exports=n},202:function(t,e,r){"use strict";r.r(e);var n=r(10),c=r(4),o=(r(36),r(39),r(13),r(40),r(37),r(68));function l(){return f.apply(this,arguments)}function f(){return(f=Object(c.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",o.a.get("/tags").then((function(data){return[null,data]})).catch((function(t){return[t]})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var article=r(198),v={name:"HomeIndex",data:function(){return{}},watchQuery:["tag","offset","type"],asyncData:function(t){return Object(c.a)(regeneratorRuntime.mark((function e(){var r,c,o,f,v,d,m,h,_,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.query,c=t.store,o=[l(),Object(article.b)(r)],c.state.user&&o.push(Object(article.a)(r)),e.next=5,Promise.all(o);case 5:return f=e.sent,v=Object(n.a)(f,3),d=v[0],m=v[1],v[2],h=[],_=[],y=0,d[1].tags&&(h=d[1].tags.slice(0,10)),m[1].articles&&(_=m[1].articles,y=m[1].articlesCount),e.abrupt("return",{tagList:h,articles:_,totalCount:y});case 15:case"end":return e.stop()}}),e)})))()},methods:{},computed:{hasLogin:function(){return this.$store.state.user},totalPage:function(){return Math.ceil(this.totalCount/(this.$route.query.limit||20))},currentPage:function(){return this.$route.query.offset/this.$route.query.limit+1}}},d=(r(200),r(29)),component=Object(d.a)(v,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"home-page"},[t._m(0),t._v(" "),r("div",{staticClass:"container page"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-9"},[r("div",{staticClass:"feed-toggle"},[r("ul",{staticClass:"nav nav-pills outline-active"},[t.hasLogin?r("li",{staticClass:"nav-item"},[r("nuxt-link",{staticClass:"nav-link",class:{active:"feed"==t.$route.query.type},attrs:{to:{name:"home",query:{limit:20,offset:0,type:"feed"}}}},[t._v("Your Feed")])],1):t._e(),t._v(" "),r("li",{staticClass:"nav-item"},[r("nuxt-link",{staticClass:"nav-link",class:{active:!t.$route.query.type&&!t.$route.query.tag||"global"==t.$route.query.type},attrs:{to:{name:"home",query:{limit:20,offset:0,type:"global"}}}},[t._v("Global Feed")])],1),t._v(" "),t.$route.query.tag?r("li",{staticClass:"nav-item"},[r("nuxt-link",{staticClass:"nav-link",class:{active:t.$route.query.tag},attrs:{to:{tag:t.$route.query.tag,limit:20,offset:0}}},[t._v("#"+t._s(t.$route.query.tag))])],1):t._e()])]),t._v(" "),t._l(t.articles,(function(article){return r("div",{key:article.slug,staticClass:"article-preview"},[r("div",{staticClass:"article-meta"},[r("nuxt-link",{attrs:{to:{name:"profile"}}},[r("img",{attrs:{src:article.author.image}})]),t._v(" "),r("div",{staticClass:"info"},[r("nuxt-link",{staticClass:"author",attrs:{to:{name:"profile"}}},[t._v(t._s(article.author.username))]),t._v(" "),r("span",{staticClass:"date"},[t._v(t._s(article.createdAt))])],1),t._v(" "),r("button",{staticClass:"btn btn-outline-primary btn-sm pull-xs-right"},[r("i",{staticClass:"ion-heart"}),t._v(" "+t._s(article.favoritesCount)+"\n            ")])],1),t._v(" "),r("nuxt-link",{staticClass:"preview-link",attrs:{to:{name:"profile"}}},[r("h1",[t._v(t._s(article.title))]),t._v(" "),r("p",[t._v(t._s(article.description))]),t._v(" "),r("span",[t._v("Read more...")])])],1)}))],2),t._v(" "),r("div",{staticClass:"col-md-3"},[r("div",{staticClass:"sidebar"},[r("p",[t._v("Popular Tags")]),t._v(" "),r("div",{staticClass:"tag-list"},t._l(t.tagList,(function(e){return r("nuxt-link",{key:e,staticClass:"tag-pill tag-default",attrs:{to:{name:"home",query:{tag:e}}}},[t._v(t._s(e))])})),1)])])]),t._v(" "),r("div",{staticClass:"page-split"},t._l(t.totalPage,(function(e){return r("nuxt-link",{key:e,class:["page-btn",t.currentPage==e?"active-btn":""],attrs:{to:{name:"home",query:{tag:t.$route.query.tag,limit:20,offset:20*(e-1)}}}},[t._v(t._s(e))])})),1)])])}),[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"banner"},[r("div",{staticClass:"container"},[r("h1",{staticClass:"logo-font"},[t._v("conduit")]),t._v(" "),r("p",[t._v("A place to share your knowledge.")])])])}],!1,null,"313a1cb4",null);e.default=component.exports}}]);